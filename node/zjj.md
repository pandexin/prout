# 中间件（Middleware）
* 一般来说中间件也会有自己的配置。在框架中，一个完整的中间件是包含了配置处理的。

## 框架默认中间件
* 除了应用层加载中间件之外，框架自身和其他的插件也会加载许多中间件。所有的这些自带中间件的配置项都通过在配置中修改中间件同名配置项进行修改，例如框架自带的中间件中有一个 bodyParser 中间件（框架的加载器会将文件名中的各种分隔符都修改成驼峰形式的变量名），我们想要修改 bodyParser 的配置，只需要在 config/config.default.js 中编写
* module.exports = {
  bodyParser: {
    jsonLimit: '10mb',
  },
};
*  **注意：框架和插件加载的中间件会在应用层配置的中间件之前，框架默认中间件不能被应用层中间件覆盖，如果应用层有自定义同名中间件，在启动时会报错。**

## 通用配置
* enable：控制中间件是否开启。
* match：设置只有符合某些规则的请求才会经过这个中间件。
* ignore：设置符合某些规则的请求不经过这个中间件。

### match 和 ignore 支持多种类型的配置方式
1. 字符串：当参数为字符串类型时，配置的是一个 url 的路径前缀，所有以配置的字符串作为前缀的 url 都会匹配上。 当然，你也可以直接使用字符串数组。
2. 正则：当参数为正则时，直接匹配满足正则验证的 url 的路径。
3. 函数：当参数为一个函数时，会将请求上下文传递给这个函数，最终取函数返回的结果（true/false）来判断是否匹配。